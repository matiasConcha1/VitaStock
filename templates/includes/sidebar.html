{% load i18n static admin_soft %}

<aside class="sidenav navbar navbar-vertical navbar-expand-xs border-0 border-radius-xl my-3 fixed-start ms-3 " id="sidenav-main">
    <style>
      /* Responsive adjustments for sidebar branding */
      #sidenav-main .brand-logo {
        height: 140px;
        width: auto;
        max-width: 180px;
        object-fit: contain;
      }
      #sidenav-main .brand-title {
        font-size: 1.25rem;
      }
      @media (max-width: 991.98px) {
        #sidenav-main {
          margin-left: 1rem;
          margin-right: 1rem;
        }
        #sidenav-main .brand-logo {
          height: 96px;
          max-width: 140px;
        }
        #sidenav-main .brand-title {
          font-size: 1.05rem;
        }
      }
      @media (max-width: 575.98px) {
        #sidenav-main .brand-logo {
          height: 72px;
          max-width: 110px;
        }
        #sidenav-main .brand-title {
          font-size: 0.95rem;
        }
        #sidenav-main {
          margin: 0.75rem;
        }
      }
    </style>
    <div class="sidenav-header">
      <i class="fas fa-times p-3 cursor-pointer text-secondary opacity-5 position-absolute end-0 top-0 d-none d-xl-none" aria-hidden="true" id="iconSidenav"></i>
      <a class="navbar-brand m-0 d-flex align-items-center" href="{% url "index" %}" style="gap:12px;">
        <img src="{% static "assets/img/logo1.png" %}" alt="VitaStock logo" class="brand-logo">
        <span class="font-weight-bold brand-title" style="color:#111;">VitaStock</span>
      </a>
    </div>
    <hr class="horizontal dark mt-0">
    <div class="collapse navbar-collapse  w-auto " id="sidenav-collapse-main">
      <ul class="navbar-nav">
      {% if request.user.is_superuser %}   

        <li class="nav-item mt-3">
          <h6 class="ps-4 ms-2 text-uppercase text-xs font-weight-bolder opacity-6"></h6>
        </li>

        <li class="nav-item">
          <a class="nav-link nav-dashboard {% if segment == 'dashboard' %}active{% endif %}" href="{% url "inventory:dashboard" %}">
            <div class="icon icon-shape icon-sm shadow border-radius-md bg-white text-center me-2 d-flex align-items-center justify-content-center">
              <i class="ni ni-shop text-primary"></i>
            </div>
            <span class="nav-link-text ms-1">Dashboard</span>
          </a>
        </li>

        <li class="nav-item mt-3">
          <h6 class="ps-4 ms-2 text-uppercase text-xs font-weight-bolder opacity-6">Inventario</h6>
        </li>
        <li class="nav-item">
          <a class="nav-link {% if segment == 'inventory_products' %}active{% endif %}" href="{% url "inventory:product_list" %}">
            <div class="icon icon-shape icon-sm shadow border-radius-md bg-white text-center me-2 d-flex align-items-center justify-content-center">
              <i class="ni ni-box-2 text-success"></i>
            </div>
            <span class="nav-link-text ms-1">Productos</span>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link {% if segment == 'inventory_batches' %}active{% endif %}" href="{% url "inventory:batch_list" %}">
            <div class="icon icon-shape icon-sm shadow border-radius-md bg-white text-center me-2 d-flex align-items-center justify-content-center">
              <i class="ni ni-archive-2 text-warning"></i>
            </div>
            <span class="nav-link-text ms-1">Lotes y vencimientos</span>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link {% if segment == 'inventory_movements' %}active{% endif %}" href="{% url "inventory:movement_list" %}">
            <div class="icon icon-shape icon-sm shadow border-radius-md bg-white text-center me-2 d-flex align-items-center justify-content-center">
              <i class="ni ni-send text-info"></i>
            </div>
            <span class="nav-link-text ms-1">Movimientos</span>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link {% if segment == 'inventory_categories' %}active{% endif %}" href="{% url "inventory:category_list" %}">
            <div class="icon icon-shape icon-sm shadow border-radius-md bg-white text-center me-2 d-flex align-items-center justify-content-center">
              <i class="ni ni-tag text-secondary"></i>
            </div>
            <span class="nav-link-text ms-1">Categorías</span>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link {% if segment == 'inventory_locations' %}active{% endif %}" href="{% url "inventory:location_list" %}">
            <div class="icon icon-shape icon-sm shadow border-radius-md bg-white text-center me-2 d-flex align-items-center justify-content-center">
              <i class="ni ni-pin-3 text-danger"></i>
            </div>
            <span class="nav-link-text ms-1">Ubicaciones</span>
          </a>
        </li>

        <li class="nav-item mt-3">
          <h6 class="ps-4 ms-2 text-uppercase text-xs font-weight-bolder opacity-6">Administrador</h6>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="{% url 'admin:auth_user_changelist' %}" target="_blank">
            <div class="icon icon-shape icon-sm shadow border-radius-md bg-white text-center me-2 d-flex align-items-center justify-content-center">
              <i class="ni ni-single-02 text-primary"></i>
            </div>
            <span class="nav-link-text ms-1">Cuentas (admin)</span>
          </a>
        </li>

      <!-- superuser guard -->  
      {% else %}

        {% if request.user.is_staff %}
        <li class="nav-item mt-3">
          <h6 class="ps-4 ms-2 text-uppercase text-xs font-weight-bolder opacity-6">Administrador</h6>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="{% url 'admin:auth_user_changelist' %}" target="_blank">
            <div class="icon icon-shape icon-sm shadow border-radius-md bg-white text-center me-2 d-flex align-items-center justify-content-center">
              <i class="ni ni-single-02 text-primary"></i>
            </div>
            <span class="nav-link-text ms-1">Cuentas (admin)</span>
          </a>
        </li>
        {% endif %}

        <li class="nav-item mt-3">
          <h6 class="ps-4 ms-2 text-uppercase text-xs font-weight-bolder opacity-6">Apps</h6>
        </li>

        <li class="nav-item">
          <a class="nav-link nav-dashboard {% if segment == 'dashboard' %}active{% endif %}" href="{% url "inventory:dashboard" %}">
            <div class="icon icon-shape icon-sm shadow border-radius-md bg-white text-center me-2 d-flex align-items-center justify-content-center">
              <i class="ni ni-shop text-primary"></i>
            </div>
            <span class="nav-link-text ms-1">Dashboard</span>
          </a>
        </li>

        <li class="nav-item mt-3">
          <h6 class="ps-4 ms-2 text-uppercase text-xs font-weight-bolder opacity-6">Inventario</h6>
        </li>
        <li class="nav-item">
          <a class="nav-link {% if segment == 'inventory_products' %}active{% endif %}" href="{% url "inventory:product_list" %}">
            <div class="icon icon-shape icon-sm shadow border-radius-md bg-white text-center me-2 d-flex align-items-center justify-content-center">
              <i class="ni ni-box-2 text-success"></i>
            </div>
            <span class="nav-link-text ms-1">Productos</span>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link {% if segment == 'inventory_batches' %}active{% endif %}" href="{% url "inventory:batch_list" %}">
            <div class="icon icon-shape icon-sm shadow border-radius-md bg-white text-center me-2 d-flex align-items-center justify-content-center">
              <i class="ni ni-archive-2 text-warning"></i>
            </div>
            <span class="nav-link-text ms-1">Lotes y vencimientos</span>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link {% if segment == 'inventory_movements' %}active{% endif %}" href="{% url "inventory:movement_list" %}">
            <div class="icon icon-shape icon-sm shadow border-radius-md bg-white text-center me-2 d-flex align-items-center justify-content-center">
              <i class="ni ni-send text-info"></i>
            </div>
            <span class="nav-link-text ms-1">Movimientos</span>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link {% if segment == 'inventory_categories' %}active{% endif %}" href="{% url "inventory:category_list" %}">
            <div class="icon icon-shape icon-sm shadow border-radius-md bg-white text-center me-2 d-flex align-items-center justify-content-center">
              <i class="ni ni-tag text-secondary"></i>
            </div>
            <span class="nav-link-text ms-1">Categorías</span>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link {% if segment == 'inventory_locations' %}active{% endif %}" href="{% url "inventory:location_list" %}">
            <div class="icon icon-shape icon-sm shadow border-radius-md bg-white text-center me-2 d-flex align-items-center justify-content-center">
              <i class="ni ni-pin-3 text-danger"></i>
            </div>
            <span class="nav-link-text ms-1">Ubicaciones</span>
          </a>
        </li>
      
      {% endif %}  
      </ul>
    </div>
</aside>
